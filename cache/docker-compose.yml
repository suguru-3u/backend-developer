services:
  app:
    # æ—¢å­˜ã®DockerfileãŒã‚ã‚Œã°ãã‚Œã‚’æŒ‡å®šã€‚ä¾‹: Dockerfile
    build:
      context: .
      dockerfile: Dockerfile
    # Spring BootãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ç”¨ã™ã‚‹ãƒãƒ¼ãƒˆ
    expose:
      - "8080"
    # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œã«å¿…è¦ãªç’°å¢ƒå¤‰æ•°ãªã©ãŒã‚ã‚Œã°è¿½åŠ 

  nginx:
    image: nginx:alpine
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
      # ğŸ’¡ ä¿®æ­£: ãƒ­ãƒ¼ã‚«ãƒ«ã® './front' ãƒ•ã‚©ãƒ«ãƒ€ã‚’ Nginx ã® Webãƒ«ãƒ¼ãƒˆã«ãƒã‚¦ãƒ³ãƒˆ
      - ./front:/usr/share/nginx/html:ro
      - nginx-cache:/var/cache/nginx
    ports:
      - "80:80"
    depends_on:
      - app

volumes:
  nginx-cache: